# 需求评审 Checklist (架构/质量视角)

> 用途：评审会逐条勾选；未满足“必须项”不得进入设计/实现；“增强项”用于持续改进评分。

## 1. 标识与结构 (必须)
- [ ] 是否有唯一 ID（格式：REQ-*）
- [ ] 模板段落齐全：背景/主体/异常/边界/约束/追溯/版本
- [ ] 语言使用简洁，无口语化 / 模糊前缀 (例如“建议”“应该尽量”)

## 2. 原子性与范围 (必须)
- [ ] 只描述单一业务/控制行为（无多重并列“并且…如果…否则”长句）
- [ ] 不与其它需求存在语义重叠/冲突

## 3. 明确性 / 可测试性 (必须)
- [ ] 含可量化判据（数值/范围/时序/阈值/状态切换条件）
- [ ] 行为触发条件明确（事件、状态、输入）
- [ ] 期望输出/结果/状态变化明确
- [ ] 时序/性能要求（响应时间、持续时间等）已写明或标“无”

## 4. 异常与边界 (必须)
- [ ] 至少包含一种异常场景处理描述
- [ ] 边界/极限条件描述（上限/下限/阈值）或确认“不适用”并说明

## 5. 追溯与依赖 (必须)
- [ ] 上游业务/法规/接口引用 ID 列出
- [ ] 下游：预期测试/接口/模块/安全机制有占位符
- [ ] 外部依赖与假设（传感器精度 / 通信可靠性 / 环境条件）已列出

## 6. 风险 / 安全 / 质量 (必须)
- [ ] 安全/合规/功能安全相关条款引用（如适用）
- [ ] 主要风险/失效模式 + 缓解/检测机制
- [ ] 日志/监控/诊断可观测性是否定义

## 7. 版本与变更 (必须)
- [ ] 初始版本号 + 日期
- [ ] 最近一次变更说明（原因 / 影响域）

---

## 8. 术语与一致性 (增强)
- [ ] 术语使用统一并来源于词汇表
- [ ] 缩写首次出现时已定义（或在附录说明）

## 9. 结构清晰度 (增强)
- [ ] 平均句长适中（建议 12~40 字）
- [ ] 无过度嵌套括号/条件
- [ ] 列表条目使用项目符号而非长段落累积

## 10. 可实现性 (增强)
- [ ] 所需资源（CPU/内存/带宽/硬件引脚）在约束范围
- [ ] 未超出现有技术栈可达能力

## 11. 可演化性 (增强)
- [ ] 预留扩展点（标记“可扩展”或版本升级路径）
- [ ] 不把临时策略固化为协议/硬编码规则

## 12. 质量评分参考 (来自 Linter)
- [ ] 模糊词密度 < 0.5%
- [ ] 是否有未定义缩写 (0)
- [ ] 是否缺数值判据 (False)
- [ ] 复合连接词数 ≤ 2
- [ ] 质量评分 ≥ 75

---

## 13. 决策记录
- 结论：通过 / 有条件通过 / 拒绝
- 必须整改项：
  1. 
  2. 
  3. 
- 评审人 / 日期：

---

## 14. 常见拒绝原因速查
| 类型 | 典型问题 | 重写示例提示 |
|------|----------|---------------|
| 缺判据 | “系统应快速恢复” | 写明：恢复 <5s，错误码记录 |
| 非原子 | “若A且B则…否则…还需要…” | 拆 2~3 条独立需求 |
| 缺异常 | 只有正常流程 | 加：超时/失联/数据异常 |
| 模糊词 | “稳定”“合理” | 具体数值/条件/曲线 |
| 缺追溯 | 未指向上游 Business/法规 | 添加来源：BUS-12, IEC-xxx |

---

## 15. 改写辅助 Prompt（可粘贴到 LLM）
```
请审查下面的需求文本，从以下方面提出改写建议：
1) 是否存在模糊词或缺少量化判据；
2) 是否包含多个独立意图应拆分；
3) 是否缺少异常/边界/风险；
4) 建议的重写版本 (保持业务语义)。

需求：<<<
{需求文本}
>>>
```

> 建议：将本 checklist 与自动 Linter 输出（requirement_linter.py）结果合并，在评审 UI 中勾选保存。