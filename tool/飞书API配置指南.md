# 飞书API配置指南

## 问题
你遇到的错误信息表明：
1. 飞书API凭证未配置
2. 文档需要登录才能访问网页版本

## 解决方案：配置飞书API

### 步骤1：创建飞书应用
1. 访问 [飞书开发者后台](https://open.feishu.cn/app)
2. 点击"创建应用"
3. 选择"企业自建应用"
4. 填写应用信息：
   - 应用名称：AI测试用例生成器
   - 应用描述：用于AI生成测试用例的背景知识获取

### 步骤2：获取凭证
创建应用后，在"凭证与基础信息"中获取：
- **App ID** (应用ID)
- **App Secret** (应用密钥)

### 步骤3：配置权限
在应用管理页面，进入"权限管理"，添加以下权限：
```
docx:document
wiki:wiki
```

### 步骤4：在应用中配置凭证
启动Streamlit应用后：
1. 在左侧边栏找到"飞书API配置"部分
2. 输入你的 App ID 和 App Secret
3. 点击确认配置

### 步骤5：测试配置
配置完成后，尝试重新加载飞书文档链接。

## 替代方案

如果API配置有困难，你也可以：

### 方案1：导出为Word文档
1. 在飞书中打开文档
2. 点击右上角"..." → "导出"
3. 选择"Word (.docx)"格式
4. 下载后上传到应用的"背景知识" → "上传背景文档"部分

### 方案2：复制粘贴内容
1. 在飞书中打开文档
2. 手动复制文档内容
3. 粘贴到应用的文本输入框中

## 常见问题

### Q: 配置了API还是无法访问？
A: 检查文档是否已分享给应用，或应用是否有足够权限。

### Q: 提示"获取wiki节点信息失败"？
A: 确保应用有wiki权限，且文档在应用的可见范围内。

### Q: 如何撤销应用权限？
A: 在飞书开发者后台删除应用即可。

## 技术支持

如果问题持续存在，请提供：
1. 完整的错误信息
2. 飞书应用的配置截图
3. 文档的分享设置</content>
<parameter name="filePath">d:\project\TestCase_auto_gen\tool\飞书API配置指南.md